(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3glr":function(t,e,r){"use strict";r.r(e),r.d(e,"EntryModule",function(){return A});var n=r("3Pt+"),i=r("tyNb"),c=r("lJxs"),s=r("fXoL"),a=r("l7P3");let p=(()=>{class t{constructor(t,e){this.store=t,this.router=e}canActivate(t,e){return this.store.select("auth").pipe(Object(c.a)(t=>{if(t){if(t.user)return!0}else if(null===localStorage.getItem("userdata"))return this.router.createUrlTree(["/auth"])}))}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(a.b),s.Xb(i.b))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var o=r("6TQ8"),b=r("2X5n");const d=[{path:"",component:b.a,canActivate:[p],children:[{path:"all",component:b.a}]}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({providers:[o.a],imports:[[i.e.forChild(d)],i.e]}),t})();var j=r("tk/3"),u=r("9jGm"),O=r("561o");const l=Object(a.h)({entries:[]},Object(a.i)(O.i,(t,e)=>Object.assign(Object.assign({},t),{entries:[]})),Object(a.i)(O.j,(t,e)=>Object.assign(Object.assign({},t),{entries:[...e.entries]})),Object(a.i)(O.d,(t,e)=>Object.assign(Object.assign({},t),{entries:t.entries.concat(e.entry)})),Object(a.i)(O.l,(t,e)=>Object.assign(Object.assign({},t),{entries:t.entries.map((t,r)=>t.entryId===e.entry.entryId?e.entry:t)})),Object(a.i)(O.f,(t,e)=>Object.assign(Object.assign({},t),{entries:t.entries.filter(t=>t.entryId!==e.entryId)})),Object(a.i)(O.b,(t,e)=>Object.assign(Object.assign({},t),{entries:t.entries.map((t,r)=>t.entryId===e.entryId?Object.assign(Object.assign({},t),{approved:!0}):t)})));function h(t,e){return l(t,e)}var f=r("zkoq"),g=r("XqQ8"),v=r("AytR");let I=(()=>{class t{constructor(t,e,r){this.http=t,this.store=e,this.actions$=r,this.fetchentries$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(O.h),Object(g.a)(t=>this.http.get(v.a.BACKEND_URL+"api/getUserEntries/"+t.pageNumber+"/").pipe(Object(c.a)(t=>t.entries.map(e=>({entryId:e.entryId,title:e.title,description:e.description,approved:e.approved,picture:e.picture,creator:e.creator,totalEntries:t.totalEntries}))))),Object(c.a)(t=>O.j({entries:t})))),this.fetchAllentries$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(O.g),Object(g.a)(t=>this.http.get(v.a.BACKEND_URL+"api/getAllEntries/"+t.pageNumber+"/").pipe(Object(c.a)(t=>t.entries.map(e=>({entryId:e.entryId,title:e.title,description:e.description,approved:e.approved,picture:e.picture,creator:e.creator,totalEntries:t.totalEntries}))))),Object(c.a)(t=>O.j({entries:t})))),this.createEntry$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(O.c),Object(g.a)(t=>this.http.post(v.a.BACKEND_URL+"api/createEntry",t.entry).pipe(Object(c.a)(t=>({entryId:t.entry.entryId,title:t.entry.title,description:t.entry.description,approved:t.entry.approved,picture:t.entry.picture,creator:t.creator})))),Object(c.a)(t=>{if(t)return O.d({entry:t})}))),this.updateEntry$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(O.k),Object(g.a)(t=>this.http.post(v.a.BACKEND_URL+"api/updateEntry",t.entry).pipe(Object(c.a)(t=>({entryId:t.entry.entryId,title:t.entry.title,description:t.entry.description,approved:t.entry.approved,picture:t.entry.picture,creator:t.creator})))),Object(c.a)(t=>{if(t)return O.l({entry:t})}))),this.deleteEntry$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(O.e),Object(g.a)(t=>this.http.post(v.a.BACKEND_URL+"api/deleteEntry",{entryId:t.entryId})),Object(c.a)(t=>{if(t.entryId)return O.f({entryId:t.entryId})}))),this.approveEntry$=Object(u.c)(()=>this.actions$.pipe(Object(u.d)(O.a),Object(g.a)(t=>this.http.post(v.a.BACKEND_URL+"api/approveEntry",{entryId:t.entryId})),Object(c.a)(t=>{if(t.entryId)return O.b({entryId:t.entryId})})))}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(j.b),s.Xb(a.b),s.Xb(u.a))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();var E=r("kuTz"),m=r("dNgK"),$=r("TCkv");let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({providers:[o.a,{provide:j.a,useClass:E.a,multi:!0},{provide:j.a,useClass:$.a,multi:!0}],imports:[[y,n.p,n.g,j.c,f.b,m.b,a.d.forFeature("entry",h),u.b.forFeature([I])]]}),t})()}}]);